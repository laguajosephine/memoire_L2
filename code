# Première étape : data cleaning 

library(tidyverse)
library(stargazer)
library(kableExtra)

#je propose qu'on renomme le titre des data
load(paste0(path, "37137-0001-Data.rda"))
data_politics <- da36602.0001
data_politics %>% data_politics
  select(COUNTRY, GROUP, WHICH_GROUP, COUNTRY_BORN, CITIZENSHIP, LANGUAGE_HOME, POLINT_1, POLINT_2, POLATTENT_1, POLATTENT_2, POLATTENT_3, DISCUSS_ACT, DEMONST_ACT, LEAFLETS_ACT, DONATE_ACT, GRAFFITI_ACT, VOTE_ACT)

#création de la variable Immigration    attends ça marche pas mdr                              )
cleand <-data_politics %>%
  mutate(
    Immigration = case_when(COUNTRY_BORN %in% c(1,4) ~ "Non immigré",
                            COUNTRY_BORN == 3 ~ "Immigré deuxième génération",
                            COUNTRY_BORN == 6 ~ "Immigré première génération",  
                            COUNTRY_BORN %in% c(2,5) ~ "Métisse"
)
  )
                                              
#supprimer la variable COUNTRYBORN

# afficher les premiers rangs de notre nouvelle base de données: 
kable(head(cleand,n=10), caption= "premiers rangs des données")

# analyser biais de si on drop les NA

#pour virer toutes les lignes où y'a des NA
cleand <- cleand %>%
  drop_na()

